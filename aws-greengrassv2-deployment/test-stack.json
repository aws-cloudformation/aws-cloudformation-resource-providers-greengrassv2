{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "WordPress stack",
    "Resources": {
        "TestV2Deployment": {
            "Type": "AWS::GreengrassV2::Deployment",
            "Properties": {
                "TargetName": "fan-testthing-7",
                "TargetType": "thing",
                "DeploymentName": "MyDeployment",
                "Components": {
                    "ComponentA": {
                        "Version": "1.0.1",
                        "ConfigurationUpdate": {
                            "Merge": "{\"FirstItem\":{\"value\":\"foo\"},\"SecondItem\":{\"value\":\"bar\"}}"
                        }
                    },
                    "ComponentB": {
                        "Version": "1.1.0",
                        "ConfigurationUpdate": {
                            "Merge": "{\"rooms\":{\"Office\":{\"temperature\":22,\"lights\":\"on\"},\"Conference Room\":{\"temperature\":20,\"lights\":\"auto\"}}}",
                            "Reset": [
                                "/rooms/Office",
                                "/rooms/Conference Room"
                            ]
                        }
                    }
                },
                "IotJobConfigurations": {
                    "JobExecutionsRolloutConfig": {
                        "ExponentialRate": {
                            "BaseRatePerMinute": 1,
                            "IncrementFactor": 2,
                            "RateIncreaseCriteria": {
                                "NumberOfNotifiedThings": 1,
                                "NumberOfSucceededThings": 1
                            }
                        },
                        "MaximumPerMinute": 1
                    },
                    "AbortConfig": {
                        "CriteriaList": [
                            {
                                "Action": "CANCEL",
                                "FailureType": "ALL",
                                "MinNumberOfExecutedThings": 1,
                                "ThresholdPercentage": 100
                            }
                        ]
                    },
                    "TimeoutConfig": {
                        "InProgressTimeoutInMinutes": 1
                    }
                },
                "DeploymentPolicies": {
                    "FailureHandlingPolicy": "DO_NOTHING",
                    "ComponentUpdatePolicy": {
                        "Timeout": 60,
                        "Action": "NOTIFY_COMPONENTS"
                    },
                    "ConfigurationValidationPolicy": {
                        "Timeout": 30
                    }
                }
            }
        }
    }
}
